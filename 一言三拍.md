2014.07.14

Component Loader
	bx-name
	bx-config
	初始化、销毁
	方法、属性、事件、代理
	延迟实例化
Component Manager
Initializer
Events
	简化为 基于 底层库
嵌套渲染 & 嵌套销毁
配置信息
	选项
	方法
	事件
Promise

http://fex.baidu.com/blog/2014/05/web-components-future-oriented/

Magix
parentVframe.mountSubVframe(targetVframeId, viewPath, ...)

B()
	<div>
		<div bx-name="comp1"
			<div
				<div bx-name="comp1.1"
					<div bx-name="comp1.1.1"
				<div bx-name="comp1.2"
		<div bx-name="comp2"
			<div bx-name="comp2.1"
			<div bx-name="comp1.1"<!-- drop

	B('[comp1] > [comp1.1]')
	B('[comp1.1]')

	[
		{
			id
			parentid:
			children: [ref, ref ...]
		},
		{
			id
			parentid
		},
		{
			id
			parentid
		},
	]

	> tree
---

# 功能点
查找组件
渲染组件
渲染子组件

# API Tree

brix/app/shadow
	configData
	config bxResolveComponents bxPackageComponents bxResolveImports bxAliasImports bxAliasComponents bxAliasModules bxPackageImports bxComboStyle
brix/core/bx-api
	boot prepare one all find where
brix/core/bx-boot
	bxBootOptions bxBootName bxIBoot bxBootUse bxBoot bxPrepare
brix/core/bx-config
	bxHandleConfig bxCastString
brix/core/bx-delegate
	delegate undelegate
brix/core/bx-event
	bxDelegate bxDelegateMap bxUndelegate bxUndelegateMap
brix/core/bx-find
	bxOne bxIOne bxAll bxIAll bxFind bxWhere
brix/core/bx-name
	bxHandleName bxUseModules bxDirectChildren
brix/core/bx-remote
	bxHandleRemote bxJsonpRemote bxXhrRemote
brix/core/bx-third
	brix/core/bx-boot
	brix/core/bx-name
	brix/core/bx-find
	brix/core/bx-util
	brix/core/bx-config
brix/core/bx-tpl
	bxHandleTpl bxScriptTpl bxHereTpl bxRemoteTpl bxXhrTpl
brix/core/bx-util
	bxConstruct bxUniqueId bxMixArgument bxResolveModule bxGetAncestorWithData bxGetBrickAncestor bxIsBrickInstance bxIsExtendBrickClass
brix/core/index
	on fire once bxDestroy
	brix/core/bx-api
	brix/core/bx-tpl
	brix/core/bx-event
	brix/core/bx-delegate
	brix/core/bx-remote
	brix/core/bx-third
brix/third/index
	bxInit bxRender bxActivate bxListenReady bxListenRendered bxFireRendered bxFireReady bxDestroy
	brix/core/bx-third
brix/app
	bootStyle set get
	brix/app/shadow
    brix/core/bx-api
    brix/core/bx-third
    brix/third/index
    brix/base
brix/base
	initializer bind sync bxGetTpl bxAfterGetTpl bxBuildTpl bxGetData bxAfterGetData bxBuildData bxRender bxRenderTpl bxActivate bxBind bxSync destructor
	brix/interface/index
	brix/core/index

# 结构

Promise：不应该返回 Promise，而是应该返回具有 Promise 行为的对象。

到底有几个类/入口？分别对应哪些 JS 文件？
	仅仅两个：app, Brick

# 源码
app.js
	加载 CSS
	过于繁琐
	app.boot('#container')
		.then(function(brix){
	  		brix.once('ready', function(){
		    	this.find('#brixtest')
		  	})
		})
base.js
	initializer 中的操作都是异步的吗？是的！
	事件名集中定义会清晰些
	bxActivate？√激活？
bx-api
	√ exports 是如何组织的？
	√ 只是简单地变换方法名？
	√ Brick.superclass.on 继承自什么？
	√ find 单个 vs where 多个（类似 selector 的概念）
	√ one vs all vs find vs where（单个 vs 多个，递归 vs 直接子组件）
core/bx-find
	√ bxOne vs bxIOne “I”是什么意思？
		私有方法的实现（Implement）
core/bx-boot.js
	√ 外观方法 bxBoot() 可以放到最前面
core/bx-config.js
	√ 解析配置
core/bx-name.js
	√ 遍历子节点 vs querySelector
core/bx-delegate.js
	√ 自定义了 fire()
	√ bxId + eventType
	√ KISSY 的 自定义事件 不支持冒泡
core/bx-event.js
	√ KISSY 的 valuechange 不支持冒泡
index.js
	√ 重新实现的事件模型的意义在哪里呢
		先监听 DOM 元素的事件，然后触发组件的自定义事件，可以么
	√ bxDestroy vs destroy
		困惑的相似名，前者内部，后者公开
HISTORY.md
	√ 直接用 brix/base 模块作为类以实例化此组件
		原来未处理 app.boot(el) 的 el 有 bx-name 的情况
third/index.js
	√ bxActivate() 子组件的渲染也可以用 Promise 管理
	√ bxFireReady() 与 once() 的功能类似
core/bx-name.js
	activatedFn 是干什么用的？统一基于事件实现这些不同状态时的回调函数呢？
Gruntfile.js
	为什么打包至 .package？

---

# 其他
依赖 KISSY
	promise
bxInit vs init vs 

